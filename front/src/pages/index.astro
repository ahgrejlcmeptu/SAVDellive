---
import Layout from '@progresses/Layout.astro';
import TheBanner from '@widgets/banner/TheBanner.vue'
import TheAdvantages from '@widgets/advantages/TheAdvantages.vue'
import CategoriesBlock from '@progresses/CategoriesBlock.vue'
import ThePopularGrid from '../widgets/popular/ThePopularGrid.vue'
import TheStories from '@widgets/stories/TheStories.vue'
import TheAbout from '@widgets/about/TheAbout.vue'
import NewsBlock from '@progresses/NewsBlock.vue'
import TheReviews from '@widgets/reviews/TheReviews.vue'
import TheSeo from '@widgets/seo/TheSeo.vue'
import {http} from "../app/utils/http";

let load = false
const home = await http({url: '/api/pages/home'})
load = true
console.log({Astro: Astro.cookies.get('favorites')})
---

<Layout title="Главная">
    {load && (
            <TheBanner data={home.banners?.list} class="mb-50" client:load/>
            <TheAdvantages data={home.advantages?.list} class="container mb-50" client:load/>
            <CategoriesBlock data={home.categories} class="container mb-100" client:load/>
            <ThePopularGrid data={home.popular} client:load/>
            <TheStories data={home.stories} client:load/>
            <TheAbout data={home.about}/>
            <NewsBlock data={home.news} client:load/>
            <TheReviews data={home.reviews} client:load/>
            <TheSeo data={home.seo} client:load/>
    )}
</Layout>
